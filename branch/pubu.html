<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style>
	*{margin: 0;padding: 0;list-style: none;}
	#div{width: 100%;}
	#div ul{width: 300px;border: 1px solid #000; float: left;margin-left: 30px;}
	#div li{width: 280px;margin: 10px;}
	</style>
	<script type="text/javascript">
     function rnd(n,m){
     	return parseInt(Math.random()*(m-n))+n
     };
     function ClickLi(){
     	var oLi=document.createElement('li')
     	    oLi.style.background='rgb('+rnd(0,256)+','+rnd(0,256)+','+rnd(0,256)+')'
     	    oLi.style.height=rnd(200,500)+'px';
     	    return oLi;
     };
     window.onload=function(){
     	var oUl=document.getElementsByTagName('ul')
     	var oDiv=document.getElementById('div')

     	function Click20(){

     		var iMin=null;
     		for(var i=0;i<20;i++){
     			var oLi=ClickLi();
     			var h1=oUl[0].offsetHeight;
     			var h2=oUl[1].offsetHeight;
     			var h3=oUl[2].offsetHeight;
     			if(h1<h2){
     				if(h1<h3){
     					iMin=oUl[0]
     				}else{
     					iMin=oUl[2]
     				};
     			}else{
     				if(h2<h3){
     					iMin=oUl[1]
     				}else{
     					iMin=oUl[2]
     				};
     			};
     			iMin.appendChild(oLi);
     		};

     	};
     	Click20();
     	   window.onscroll=function(){
                var clientH=document.documentElement.clientHeight;
                var scrollT=document.documentElement.scrollTop || document.body.scrollTop;
                var scrollBottom=clientH+scrollT;

                if(scrollBottom>=document.body.scrollHeight-500){
                    Click20();
                }
            }

     }


	</script>

</head>
<body>
<div id="div">
	<ul></ul>
	<ul></ul>
	<ul></ul>
</div>
	
</body>
</html>